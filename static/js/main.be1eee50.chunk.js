(this.webpackJsonpcovidtracker=this.webpackJsonpcovidtracker||[]).push([[0],{118:function(e,t,n){},119:function(e,t,n){},232:function(e,t,n){},233:function(e,t,n){},235:function(e,t,n){},237:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(7),s=n.n(r),o=(n(118),n(119),n(17)),i=n.n(o),u=Object(a.createContext)(),l=n(3);var d=function(){var e=Object(a.useContext)(u).tableData;return Object(l.jsx)("div",{className:"table",children:e.map((function(e){var t=e.country,n=e.cases;return Object(l.jsxs)("tr",{children:[Object(l.jsx)("td",{children:t}),Object(l.jsx)("td",{children:Object(l.jsx)("strong",{children:i()(n).format("0,0")})})]})}))})},j=n(19),p=n.n(j),b=n(39),f=n(14),h=n(108),O={legend:{display:!1},elements:{point:{radius:0}},maintainAspectRatio:!1,tooltips:{mode:"index",intersect:!1,callbacks:{label:function(e,t){return i()(e.value).format("+0,0")}}},scales:{xAxes:[{type:"time",time:{format:"MM/DD/YY",tooltipFormat:"ll"}}],yAxes:[{gridLines:{display:!1},ticks:{callback:function(e,t,n){return i()(e).format("0a")}}}]}};var y=function(){var e=Object(a.useContext)(u).casesType,t=Object(a.useState)({}),n=Object(f.a)(t,2),c=n[0],r=n[1],s=function(t){var n,a=[];for(var c in t[e]){if(n){var r={x:c,y:t[e][c]-n};a.push(r)}n=t[e][c]}return a};return Object(a.useEffect)((function(){(function(){var e=Object(b.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://disease.sh/v3/covid-19/historical/all?lastdays=120").then((function(e){return e.json()})).then((function(e){r(s(e))}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[e]),console.log(e),Object(l.jsx)("div",{className:"app_graph",children:(null===c||void 0===c?void 0:c.length)>0&&Object(l.jsx)(h.a,{options:O,data:{datasets:[{backgroundColor:"rgba(204, 16, 52, 0.5)",borderColor:"#CC1034",backgroundGradientFromOpacity:0,backgroundGradientToOpacity:0,data:c}]}})})},x=n(264),v=n(268);var m=function(){var e=Object(a.useContext)(u).casesType;return Object(l.jsx)(x.a,{className:"app_right",children:Object(l.jsxs)(v.a,{children:[Object(l.jsx)("h3",{className:"table_title",children:"Live cases by Country"}),Object(l.jsx)(d,{}),Object(l.jsx)("h3",{className:"app_graph_title",children:"Worldwide new ".concat(e," ")}),Object(l.jsx)(y,{})]})})},T=n(269);n(232);var C=function(e){var t=e.title,n=e.cases,c=e.total,r=e.types,s=e.IsRed,o=Object(a.useContext)(u),i=o.setCasesType,d=o.casesType,j=r===d,p=j&&!s;return Object(l.jsx)(x.a,{className:"InfoBox ".concat(j&&"active"," ").concat(p&&"active-green"),onClick:function(e){return i(r)},children:Object(l.jsxs)(v.a,{children:[Object(l.jsx)(T.a,{color:"textSecondary",className:"infobox_title",children:t}),Object(l.jsx)("h2",{className:"infobox_cases ".concat(!s&&"green"),children:n}),Object(l.jsxs)(T.a,{color:"textSecondary",className:"infobox_total",children:[c," Total"]})]})})},_=n(275),N=n(270),E={cases:{hex:"#cc1034",multiplier:180},recovered:{hex:"#42cf17",multiplier:200},deaths:{hex:"#fb4443",multiplier:1e3}},g=function(e){return e?"+".concat(i()(e).format("0.0a")):"+0"},I=function(e,t){return e.map((function(e){return Object(l.jsx)(_.a,{center:[e.countryInfo.lat,e.countryInfo.long],pathOptions:{color:E[t].hex,fillColor:E[t].hex},fillOpacity:.4,radius:Math.sqrt(e[t])*E[t].multiplier,children:Object(l.jsx)(N.a,{children:Object(l.jsxs)("div",{className:"info-container",children:[Object(l.jsx)("div",{className:"info-flag",style:{backgroundImage:"url(".concat(e.countryInfo.flag,")")}}),Object(l.jsx)("div",{className:"info-name",children:e.country}),Object(l.jsxs)("div",{className:"info-confirmed",children:["Cases: ",i()(e.cases).format("0,0")]}),Object(l.jsxs)("div",{className:"info-recovered",children:["Recovered: ",i()(e.recovered).format("0,0")]}),Object(l.jsxs)("div",{className:"info-deaths",children:["Deaths: ",i()(e.deaths).format("0,0")]})]})})})}))};var S=function(){var e=Object(a.useContext)(u).countryInfo;return Object(l.jsxs)("div",{className:"app_stats",children:[Object(l.jsx)(C,{types:"cases",IsRed:!0,title:"Coronavirus Cases",total:g(e.cases),cases:g(e.todayCases)}),Object(l.jsx)(C,{IsRed:!1,types:"recovered",title:"Recovered",total:g(e.recovered),cases:g(e.todayRecovered)}),Object(l.jsx)(C,{IsRed:!0,types:"deaths",title:"Death",total:g(e.deaths),cases:g(e.todayDeaths)})]})},w=n(271),R=n(276);n(233);var k=function(){var e=Object(a.useContext)(u),t=e.center,n=e.tableData,c=e.casesType,r=Object(a.useState)(null),s=Object(f.a)(r,2),o=s[0],i=s[1];return o&&o.flyTo(t),Object(l.jsx)("div",{className:"map",children:Object(l.jsxs)(w.a,{center:t,zoom:3,whenCreated:i,scrollWheelZoom:!1,children:[Object(l.jsx)(R.a,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'}),I(n,c)]})})},A=n(272),D=n(273),M=n(274);var Y=function(){var e=Object(a.useContext)(u),t=e.country,n=e.changeCountry,c=e.countries;return Object(l.jsxs)("div",{className:"app_header",children:[Object(l.jsx)("h1",{children:"Covid-19 Tracker"}),Object(l.jsx)(A.a,{className:"app_dropdown",children:Object(l.jsxs)(D.a,{variant:"outlined",value:t,onChange:n,children:[Object(l.jsx)(M.a,{value:"worldwide",children:"Worldwide"}),c.map((function(e){return Object(l.jsx)(M.a,{value:e.value,children:e.name})}))]})})]})};var P=function(){return Object(l.jsxs)("div",{className:"app_left",children:[Object(l.jsx)(Y,{}),Object(l.jsx)(S,{}),Object(l.jsx)(k,{})]})};n(235),n(236);var U=function(){var e=Object(a.useContext)(u);return Object(a.useEffect)((function(){e.InitialCountryInfo(),e.getCountries()}),[]),Object(l.jsxs)("div",{className:"app",children:[Object(l.jsx)(P,{}),Object(l.jsx)(m,{})]})},F=n(11),B=n(9),L=function(e,t){switch(t.type){case"SET_COUNTRY":return Object(B.a)(Object(B.a)({},e),{},{country:t.payload});case"SET_COUNTRY_INFO":return Object(B.a)(Object(B.a)({},e),{},{countryInfo:t.payload});case"SET_TABLE_DATA":return Object(B.a)(Object(B.a)({},e),{},{tableData:t.payload});case"SET_COUNTRIES":return Object(B.a)(Object(B.a)({},e),{},{countries:t.payload});case"SET_MAP_CENTER":return Object(B.a)(Object(B.a)({},e),{},{center:t.payload});case"SET_MAP_ZOOM":return Object(B.a)(Object(B.a)({},e),{},{zoom:4});case"SET_CASE_TYPES":return Object(B.a)(Object(B.a)({},e),{},{casesType:t.payload});default:return e}},z=function(e){var t=Object(a.useReducer)(L,{countries:[],country:"worldwide",countryInfo:{},tableData:[],casesType:"cases",center:[20.5937,78.9629]}),n=Object(f.a)(t,2),c=n[0],r=n[1],s=function(){var e=Object(b.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://disease.sh/v3/covid-19/all").then((function(e){return e.json()})).then((function(e){r({type:"SET_COUNTRY_INFO",payload:e})}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),o=function(e){return Object(F.a)(e).sort((function(e,t){return e.cases>t.cases?-1:1}))},i=function(){var e=Object(b.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://disease.sh/v3/covid-19/countries").then((function(e){return e.json()})).then((function(e){var t=e.map((function(e){return{name:e.country,value:e.countryInfo.iso2}})),n=o(e);r({type:"SET_TABLE_DATA",payload:n}),r({type:"SET_COUNTRIES",payload:t})}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),d=function(){var e=Object(b.a)(p.a.mark((function e(t){var n,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.target.value,a="worldwide"===n?"https://disease.sh/v3/covid-19/all":"https://disease.sh/v3/covid-19/countries/".concat(n),e.next=4,fetch(a).then((function(e){return e.json()})).then((function(e){r({type:"SET_COUNTRY",payload:n}),r({type:"SET_COUNTRY_INFO",payload:e}),r("worldwide"===n?{type:"SET_MAP_CENTER",payload:[20.5937,78.9629]}:{type:"SET_MAP_CENTER",payload:[e.countryInfo.lat,e.countryInfo.long]})}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(l.jsx)(u.Provider,{value:{country:c.country,countries:c.countries,countryInfo:c.countryInfo,tableData:c.tableData,center:c.center,casesType:c.casesType,InitialCountryInfo:s,getCountries:i,changeCountry:d,setCasesType:function(e){r({type:"SET_CASE_TYPES",payload:e})}},children:e.children})};s.a.render(Object(l.jsx)(c.a.StrictMode,{children:Object(l.jsx)(z,{children:Object(l.jsx)(U,{})})}),document.getElementById("root"))}},[[237,1,2]]]);
//# sourceMappingURL=main.be1eee50.chunk.js.map